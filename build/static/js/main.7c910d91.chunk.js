(this["webpackJsonpappointy-screening"]=this["webpackJsonpappointy-screening"]||[]).push([[0],{254:function(e,n,t){},255:function(e,n,t){},330:function(e,n,t){"use strict";var r=function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"usr"}],n=[{kind:"Variable",name:"login",variableName:"usr"}],t={kind:"Literal",name:"orderBy",value:{direction:"DESC",field:"CREATED_AT"}},r=[{kind:"Literal",name:"first",value:100},t],a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l={kind:"Literal",name:"first",value:10},s=[l],o=[l,t],c={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"HomeRepositoryNameQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:r,concreteType:"RepositoryConnection",kind:"LinkedField",name:"repositories",plural:!1,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,i,{alias:null,args:s,concreteType:"RepositoryCollaboratorConnection",kind:"LinkedField",name:"collaborators",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[a],storageKey:null}],storageKey:"collaborators(first:10)"},{alias:null,args:o,concreteType:"IssueConnection",kind:"LinkedField",name:"issues",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[c],storageKey:null}],storageKey:'issues(first:10,orderBy:{"direction":"DESC","field":"CREATED_AT"})'},d,u],storageKey:null}],storageKey:'repositories(first:100,orderBy:{"direction":"DESC","field":"CREATED_AT"})'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"HomeRepositoryNameQuery",selections:[{alias:null,args:n,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:r,concreteType:"RepositoryConnection",kind:"LinkedField",name:"repositories",plural:!1,selections:[{alias:null,args:null,concreteType:"Repository",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,i,{alias:null,args:s,concreteType:"RepositoryCollaboratorConnection",kind:"LinkedField",name:"collaborators",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[a,j],storageKey:null}],storageKey:"collaborators(first:10)"},{alias:null,args:o,concreteType:"IssueConnection",kind:"LinkedField",name:"issues",plural:!1,selections:[{alias:null,args:null,concreteType:"Issue",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,j],storageKey:null}],storageKey:'issues(first:10,orderBy:{"direction":"DESC","field":"CREATED_AT"})'},d,u,j],storageKey:null}],storageKey:'repositories(first:100,orderBy:{"direction":"DESC","field":"CREATED_AT"})'},j],storageKey:null}]},params:{cacheID:"b258f42d69128e61871bd13f8cad28f2",id:null,metadata:{},name:"HomeRepositoryNameQuery",operationKind:"query",text:"query HomeRepositoryNameQuery(\n  $usr: String!\n) {\n  user(login: $usr) {\n    repositories(first: 100, orderBy: {field: CREATED_AT, direction: DESC}) {\n      nodes {\n        name\n        description\n        collaborators(first: 10) {\n          nodes {\n            name\n            id\n          }\n        }\n        issues(first: 10, orderBy: {field: CREATED_AT, direction: DESC}) {\n          nodes {\n            __typename\n            id\n          }\n        }\n        createdAt\n        url\n        id\n      }\n    }\n    id\n  }\n}\n"}}}();r.hash="4eefc8a216225692fcb60765fe4c6b4c",e.exports=r},331:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(81),l=t.n(i),s=(t(254),t(255),t(398)),o=t(341),c=t(140),d=t(93),u=t(212),j=t.n(u),p=t(103),b=new p.a,m=Object(r.createContext)(),h=t(3);function y(){var e=Object(r.useContext)(m);return Object(h.jsx)(s.a,{fixed:!0,sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"80vh"},children:Object(h.jsxs)(o.a,{children:[Object(h.jsx)(c.a,{color:"mintcream",my:3,sx:{fontSize:100,fontWeight:300},children:"OAuth App with React Relay (GraphQl)"}),Object(h.jsxs)(d.a,{onClick:function(){return e.signInAuth(b)},size:"large",variant:"contained",sx:{fontSize:18,backgroundColor:"black","&:hover":{backgroundColor:"gray",color:"black"}},children:["GitHub Login",Object(h.jsx)(j.a,{})]})]})})}var f=t(399),g=t(400),x=t(84),O=t(213),k=t.n(O);function v(){return Object(h.jsx)(o.a,{children:Object(h.jsx)(f.a,{position:"static",sx:{backgroundColor:"black"},children:Object(h.jsx)(g.a,{children:Object(h.jsx)(s.a,{sx:{display:"flex",justifyContent:"center",flexGrow:1},children:Object(h.jsxs)(o.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center"},children:[Object(h.jsx)(x.a,{color:"inherit",children:Object(h.jsx)(k.a,{size:"large"})}),Object(h.jsx)(c.a,{mx:1,sx:{fontWeight:700,fontSize:18,letterSpacing:2},children:"OAuth-Application"})]})})})})})}var C=t(9),w=t(214),S=function(e){var n=Object(r.useState)(""),t=Object(C.a)(n,2),a=t[0],i=t[1],l=Object(w.a)({apiKey:"AIzaSyDPWWVqKEJ6w3ZETTm9qB2BVY0stqOO4NA",authDomain:"oauth-app-3e936.firebaseapp.com",projectId:"oauth-app-3e936",storageBucket:"oauth-app-3e936.appspot.com",messagingSenderId:"855299737848",appId:"1:855299737848:web:c40491641c94fea476d30d",measurementId:"G-TLJR6WTSJP"});return Object(h.jsx)(m.Provider,{value:{tokenValue:a,signInAuth:function(e){var n=Object(p.b)(l);Object(p.c)(n,e).then((function(e){var n,t,r=p.a.credentialFromResult(e).accessToken;console.log(r),i(r),localStorage.setItem("token",r);var a=null===e||void 0===e||null===(n=e.user)||void 0===n||null===(t=n.reloadUserInfo)||void 0===t?void 0:t.screenName;console.log(a),localStorage.setItem("user",a),window.location=a?"/home":"/"})).catch((function(e){window.location="/"}))}},children:e.children})};var T=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsxs)(S,{children:[Object(h.jsx)(v,{}),Object(h.jsx)(y,{})]})})},R=t(219),D=t(25),A=t(215),E=t(216),K=t(397),F=t(391),I=t(393),L=t(403),N=t(218),_=t.n(N),B=t(386),Q=r.forwardRef((function(e,n){return Object(h.jsx)(B.a,Object(A.a)({direction:"up",ref:n},e))})),q=[{field:"name",headerName:"Name",width:500},{field:"createDate",headerName:"Created Date",width:165},{field:"url",headerName:"Github Repo Url",width:200}];function z(e){var n,t=r.useState(!1),a=Object(C.a)(t,2),i=a[0],l=a[1],s=r.useState({}),o=Object(C.a)(s,2),d=o[0],u=o[1],j=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.map((function(e,n){return Object.assign({id:n,name:e.name,createDate:e.createdAt,url:e.url})})),p=function(){l(!1)};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{style:{height:400,width:"100%"},children:Object(h.jsx)(E.a,{rows:j,columns:q,pageSize:5,rowsPerPageOptions:[5],onRowClick:function(e){console.log(e),l(!0),u(e.row)}})}),Object(h.jsxs)(K.a,{fullScreen:!0,open:i,onClose:p,TransitionComponent:Q,children:[Object(h.jsx)(f.a,{sx:{position:"relative"},children:Object(h.jsxs)(g.a,{children:[Object(h.jsx)(x.a,{edge:"start",color:"inherit",onClick:p,"aria-label":"close",children:Object(h.jsx)(_.a,{})}),Object(h.jsx)(c.a,{sx:{ml:2,flex:1},variant:"h6",component:"div",children:d.name})]})}),Object(h.jsxs)(L.a,{children:[Object(h.jsx)(I.a,{children:Object(h.jsx)(F.a,{primary:"Repository Name",secondary:d.name})}),Object(h.jsx)(I.a,{children:Object(h.jsx)(F.a,{primary:"Created Date",secondary:d.createDate})}),Object(h.jsx)(I.a,{children:Object(h.jsx)(F.a,{primary:"Repository Url",secondary:Object(h.jsx)("a",{href:d.url,rel:"noreferrer",target:"_blank",children:d.url})})})]})]})]})}var P=t(136),J=t(2),U=t.n(J),W=t(6),G=t(32);function H(){return(H=Object(W.a)(U.a.mark((function e(n,t){var r,a;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("token"),console.log(r),e.next=4,fetch("https://api.github.com/graphql",{method:"POST",headers:{Authorization:"bearer  ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({query:n,variables:t})});case 4:return a=e.sent,e.abrupt("return",a.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var V=function(e,n){return H.apply(this,arguments)};function $(){return($=Object(W.a)(U.a.mark((function e(n,t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetching query ".concat(n.name," with ").concat(JSON.stringify(t))),e.next=3,V(n.text,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M,Y=new G.Environment({network:G.Network.create((function(e,n){return $.apply(this,arguments)})),store:new G.Store(new G.RecordSource)}),Z=Y,X=t(343),ee=a.a.Suspense,ne=void 0!==M?M:M=t(330),te=Object(P.loadQuery)(Z,ne,{usr:localStorage.getItem("user")});function re(e){var n,t,r=Object(P.usePreloadedQuery)(ne,e.preloadedQuery);return Object(h.jsx)("div",{id:"home",children:Object(h.jsx)(s.a,{fluid:!0,children:r?Object(h.jsxs)(o.a,{children:[Object(h.jsxs)(o.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[Object(h.jsx)(c.a,{color:"#757575",my:5,variant:"h2",children:"Repositories"}),Object(h.jsx)(d.a,{size:"large",variant:"text",onClick:function(){localStorage.clear(),window.location="/"},children:"Sign Out"})]}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{}),Object(h.jsx)(o.a,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between",alignItems:"stretch"},children:Object(h.jsx)(z,{data:null===r||void 0===r||null===(n=r.user)||void 0===n||null===(t=n.repositories)||void 0===t?void 0:t.nodes})})]}):Object(h.jsx)("h1",{children:"no data found"})})},"i")}var ae=function(e){return Object(h.jsx)(P.RelayEnvironmentProvider,{environment:Z,children:Object(h.jsx)(ee,{fallback:Object(h.jsx)(o.a,{sx:{value:"user.id",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(h.jsx)(X.a,{color:"inherit"})}),children:Object(h.jsx)(re,{preloadedQuery:te})})})};l.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(R.a,{children:Object(h.jsxs)(D.c,{children:[Object(h.jsx)(D.a,{path:"/",element:Object(h.jsx)(T,{})}),Object(h.jsx)(D.a,{path:"home",element:Object(h.jsx)(ae,{})})]})})}),document.getElementById("root"))}},[[331,1,2]]]);
//# sourceMappingURL=main.7c910d91.chunk.js.map